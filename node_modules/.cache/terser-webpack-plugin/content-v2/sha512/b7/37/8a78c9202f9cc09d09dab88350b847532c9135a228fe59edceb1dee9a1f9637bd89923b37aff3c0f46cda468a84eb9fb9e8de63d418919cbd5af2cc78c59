{"code":"(this.webpackJsonpextension=this.webpackJsonpextension||[]).push([[0],{24:function(e,t,a){},30:function(e,t,a){},54:function(e,t,a){\"use strict\";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),i=(a(30),a(8)),l=a(9),u=a.n(l),o=a(11),p=a(12),j=a.n(p),d=a.p+\"static/media/llave.dbcb99bd.png\",b=(a(24),a(57)),h=a(1);var f=function(e){var t=Object(c.useState)(\"\"),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(\"\"),l=Object(i.a)(r,2),p=l[0],f=l[1],x=Object(c.useState)(null),O=Object(i.a)(x,2),m=O[0],v=O[1],k=Object(c.useState)(\"\"),g=Object(i.a)(k,2),N=g[0],y=g[1],w=function(){var e=Object(o.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={email:n,password:p},e.next=4,j.a.post(\"https://keypax-api.sytes.net/public/login\",t);case 4:a=e.sent,v(a.data._2faToken),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var t=Object(o.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={_2faToken:m,code:N},t.next=4,j.a.post(\"https://keypax-api.sytes.net/public/2fa\",a);case 4:c=t.sent,localStorage.setItem(\"token\",c.data.accessToken),e.setToken(c.data.accessToken),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case\"end\":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)(\"div\",{className:\"App\",children:[Object(h.jsx)(b.a,{show:null!==m,backdrop:\"static\",keyboard:!1,dialogClassName:\"full_modal\",children:Object(h.jsxs)(\"div\",{className:\"modal\",children:[Object(h.jsx)(\"div\",{className:\"modal-header\",children:Object(h.jsx)(b.a.Title,{className:\"modal-title\",children:\"Introduce codigo 2fa\"})}),Object(h.jsx)(\"div\",{className:\"input\",children:Object(h.jsx)(\"input\",{className:\"input-class\",type:\"text\",placeholder:\"C\\xf3digo\",value:N,onChange:function(e){return y(e.target.value)},required:!0})}),Object(h.jsx)(\"button\",{className:\"button\",onClick:T,children:\"ENTER\"})]})}),Object(h.jsxs)(\"header\",{className:\"App-header\",children:[Object(h.jsx)(\"div\",{className:\"App-name\",children:\"KeyPax\"}),Object(h.jsx)(\"img\",{src:d,className:\"App-logo\",alt:\"logo\"})]}),Object(h.jsx)(\"div\",{className:\"input\",children:Object(h.jsx)(\"input\",{className:\"input-class\",type:\"text\",placeholder:\"Email\",value:n,onChange:function(e){return s(e.target.value)},required:!0})}),Object(h.jsx)(\"div\",{className:\"input\",children:Object(h.jsx)(\"input\",{className:\"input-class\",type:\"text\",placeholder:\"Password\",value:p,onChange:function(e){return f(e.target.value)},required:!0})}),Object(h.jsx)(\"div\",{className:\"input\",children:Object(h.jsx)(\"button\",{className:\"button\",onClick:w,children:\"SUBMIT\"})})]})},x=function(e){var t=Object(c.useState)(\"\"),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),l=Object(i.a)(r,2),p=l[0],b=l[1],f=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={active:!0,currentWindow:!0},chrome.tabs.query(t,(function(e){e.forEach((function(e){s(e.url)}))}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var t=Object(o.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===n.length){t.next=19;break}return t.prev=1,a={headers:{accessToken:e.accessToken},params:{url:n}},t.next=5,j.a.get(\"https://keypax-api.sytes.net/private/infobyurl\",a);case 5:c=t.sent,t.t0=c.status,t.next=401===t.t0?9:403===t.t0?11:200===t.t0?13:15;break;case 9:case 11:return e.setToken(null),t.abrupt(\"break\",15);case 13:return b(c.data),t.abrupt(\"break\",15);case 15:t.next=19;break;case 17:t.prev=17,t.t1=t.catch(1);case 19:case\"end\":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[]),Object(c.useEffect)((function(){x()}),[n]);return Object(h.jsxs)(\"div\",{className:\"App\",children:[Object(h.jsxs)(\"header\",{className:\"App-header\",children:[Object(h.jsx)(\"div\",{className:\"App-name\",children:n}),Object(h.jsx)(\"img\",{src:d,className:\"App-logo\",alt:\"logo\"})]}),0===p.length?Object(h.jsx)(h.Fragment,{}):function(){var e=[];return p.forEach((function(t){e.push(Object(h.jsx)(\"div\",{className:\"data-container\",children:Object(h.jsxs)(\"div\",{className:\"data\",children:[Object(h.jsxs)(\"div\",{className:\"data-right\",children:[t.username,\":\"]}),Object(h.jsxs)(\"div\",{className:\"data-left\",children:[t.password,\":\"]})]})}))})),e}()]})};var O=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){try{var e=localStorage.getItem(\"token\");n(e)}catch(t){n(null)}}),[]),Object(h.jsx)(h.Fragment,{children:null===a?Object(h.jsx)(f,{setToken:n}):Object(h.jsx)(x,{accessToken:a,setToken:n})})};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById(\"root\"))}},[[54,1,2]]]);","name":"static/js/main.102b501e.chunk.js","input":"(this[\"webpackJsonpextension\"] = this[\"webpackJsonpextension\"] || []).push([[0],{\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(9);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(12);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/llave.png\n/* harmony default export */ var llave = (__webpack_require__.p + \"static/media/llave.dbcb99bd.png\");\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 47 modules\nvar Modal = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/Login.js\nfunction LogIn(props){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),_2faToken=_useState6[0],set_2faToken=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),_2faAuth=_useState8[0],set_2faAuth=_useState8[1];var submit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var body,response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;body={email:email,password:password};_context.next=4;return axios_default.a.post(\"https://keypax-api.sytes.net/public/login\",body);case 4:response=_context.sent;set_2faToken(response.data._2faToken);_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function submit(){return _ref.apply(this,arguments);};}();var access=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var body,response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;body={_2faToken:_2faToken,code:_2faAuth};_context2.next=4;return axios_default.a.post(\"https://keypax-api.sytes.net/public/2fa\",body);case 4:response=_context2.sent;localStorage.setItem('token',response.data.accessToken);props.setToken(response.data.accessToken);_context2.next=11;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function access(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{show:_2faToken!==null,backdrop:\"static\",keyboard:false,dialogClassName:\"full_modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title,{className:\"modal-title\",children:\"Introduce codigo 2fa\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-class\",type:\"text\",placeholder:\"C\\xF3digo\",value:_2faAuth,onChange:function onChange(e){return set_2faAuth(e.target.value);},required:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button\",onClick:access,children:\"ENTER\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"App-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App-name\",children:\"KeyPax\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:llave,className:\"App-logo\",alt:\"logo\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-class\",type:\"text\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-class\",type:\"text\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"button\",onClick:submit,children:\"SUBMIT\"})})]});}/* harmony default export */ var Login = (LogIn);\n// CONCATENATED MODULE: ./src/Info.js\n/*global chrome*/var Info_Info=function Info(props){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),data=_useState4[0],setData=_useState4[1];var getUrl=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var queryOptions;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:queryOptions={active:true,currentWindow:true};chrome.tabs.query(queryOptions,function(tabs){tabs.forEach(function(tab){setUrl(tab.url);});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getUrl(){return _ref.apply(this,arguments);};}();var fetchUrl=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var config,response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(url.length!==0)){_context2.next=19;break;}_context2.prev=1;config={headers:{accessToken:props.accessToken},params:{url:url}};_context2.next=5;return axios_default.a.get(\"https://keypax-api.sytes.net/private/infobyurl\",config);case 5:response=_context2.sent;_context2.t0=response.status;_context2.next=_context2.t0===401?9:_context2.t0===403?11:_context2.t0===200?13:15;break;case 9:props.setToken(null);return _context2.abrupt(\"break\",15);case 11:props.setToken(null);return _context2.abrupt(\"break\",15);case 13:setData(response.data);return _context2.abrupt(\"break\",15);case 15:_context2.next=19;break;case 17:_context2.prev=17;_context2.t1=_context2[\"catch\"](1);case 19:case\"end\":return _context2.stop();}}},_callee2,null,[[1,17]]);}));return function fetchUrl(){return _ref2.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){getUrl();},[]);Object(react[\"useEffect\"])(function(){fetchUrl();},[url]);var parseData=function parseData(){var datas=[];data.forEach(function(_data){datas.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"data-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"data\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"data-right\",children:[_data.username,\":\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"data-left\",children:[_data.password,\":\"]})]})}));});return datas;};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"App-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App-name\",children:url}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:llave,className:\"App-logo\",alt:\"logo\"})]}),data.length===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{}):parseData()]});};/* harmony default export */ var src_Info = (Info_Info);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),token=_useState2[0],setToken=_useState2[1];Object(react[\"useEffect\"])(function(){try{var _token=localStorage.getItem('token');setToken(_token);}catch(err){setToken(null);}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:token===null?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{setToken:setToken}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Info,{accessToken:token,setToken:setToken})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[54,1,2]]]);","inputSourceMap":null}