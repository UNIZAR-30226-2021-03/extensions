{"ast":null,"code":"import _regeneratorRuntime from\"/home/andoni/Universidad/PSoft/extensions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/andoni/Universidad/PSoft/extensions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/andoni/Universidad/PSoft/extensions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global chrome*/import React,{useEffect,useState}from'react';import axios from'axios';import'./App.css';import logo from'./llave.png';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Info=function Info(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var getUrl=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var queryOptions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:queryOptions={active:true,currentWindow:true};chrome.tabs.query(queryOptions,function(tabs){tabs.forEach(function(tab){setUrl(tab.url);});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getUrl(){return _ref.apply(this,arguments);};}();var fetchUrl=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var config,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(url.length!==0)){_context2.next=20;break;}_context2.prev=1;config={headers:{accessToken:props.accessToken},params:{url:url}};_context2.next=5;return axios.get(\"https://keypax-api.sytes.net/private/infobyurl\",config);case 5:response=_context2.sent;_context2.t0=response.status;_context2.next=_context2.t0===401?9:_context2.t0===403?11:_context2.t0===200?13:15;break;case 9:props.setToken(null);return _context2.abrupt(\"break\",15);case 11:props.setToken(null);return _context2.abrupt(\"break\",15);case 13:setData(response.data);return _context2.abrupt(\"break\",15);case 15:setData([{username:\"Andoni\",password:'12345'},{username:\"Jose\",password:'abcdf'}]);_context2.next=20;break;case 18:_context2.prev=18;_context2.t1=_context2[\"catch\"](1);case 20:case\"end\":return _context2.stop();}}},_callee2,null,[[1,18]]);}));return function fetchUrl(){return _ref2.apply(this,arguments);};}();useEffect(function(){getUrl();},[]);useEffect(function(){fetchUrl();},[url]);var parseData=function parseData(){return/*#__PURE__*/_jsx(\"div\",{className:\"data-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"data\",children:[data.username,data.password]})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"App-name\",children:url}),/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"})]}),data.length===0?/*#__PURE__*/_jsx(_Fragment,{}):parseData()]});};export default Info;","map":null,"metadata":{},"sourceType":"module"}