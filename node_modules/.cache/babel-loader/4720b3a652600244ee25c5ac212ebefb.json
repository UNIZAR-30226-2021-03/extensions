{"ast":null,"code":"import _regeneratorRuntime from\"/home/andoni/Universidad/PSoft/extensions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/andoni/Universidad/PSoft/extensions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/andoni/Universidad/PSoft/extensions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global chrome*/import React,{useEffect,useState}from'react';import axios from'axios';import'./App.css';import logo from'./llave.png';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Info=function Info(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var getUrl=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var queryOptions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:queryOptions={active:true,currentWindow:true};chrome.tabs.query(queryOptions,function(tabs){tabs.forEach(function(tab){setUrl(tab.url);});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getUrl(){return _ref.apply(this,arguments);};}();var fetchUrl=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var config,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(url.length!==0)){_context2.next=20;break;}_context2.prev=1;config={headers:{accessToken:props.accessToken},params:{url:url.substring(0,url.length-1)}};_context2.next=5;return axios.get(\"https://keypax-api.sytes.net/private/infobyurl\",config);case 5:response=_context2.sent;setStatus(response.status);_context2.t0=response.status;_context2.next=_context2.t0===401?10:_context2.t0===403?12:_context2.t0===200?14:16;break;case 10:props.setToken(null);return _context2.abrupt(\"break\",16);case 12:props.setToken(null);return _context2.abrupt(\"break\",16);case 14:setData(response.data);return _context2.abrupt(\"break\",16);case 16:_context2.next=20;break;case 18:_context2.prev=18;_context2.t1=_context2[\"catch\"](1);case 20:case\"end\":return _context2.stop();}}},_callee2,null,[[1,18]]);}));return function fetchUrl(){return _ref2.apply(this,arguments);};}();useEffect(function(){getUrl();},[]);useEffect(function(){fetchUrl();},[url]);var parseData=function parseData(){var datas=[];data.forEach(function(_data){datas.push(/*#__PURE__*/_jsx(\"div\",{className:\"data-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-right\",children:[_data.username,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-left\",children:[_data.password,\":\"]})]})}));});return datas;};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"App-name\",children:url}),/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"})]}),parseData(),status]});};export default Info;","map":null,"metadata":{},"sourceType":"module"}