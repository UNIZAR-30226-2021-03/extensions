(this.webpackJsonpextension=this.webpackJsonpextension||[]).push([[0],{24:function(e,t,a){},30:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),i=(a(30),a(8)),l=a(9),u=a.n(l),o=a(11),p=a(12),d=a.n(p),j=a.p+"static/media/llave.dbcb99bd.png",b=(a(24),a(57)),h=a(1);var f=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),p=l[0],f=l[1],O=Object(c.useState)(null),m=Object(i.a)(O,2),v=m[0],x=m[1],k=Object(c.useState)(""),g=Object(i.a)(k,2),N=g[0],y=g[1],w=function(){var e=Object(o.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={email:n,password:p},e.next=4,d.a.post("https://keypax-api.sytes.net/public/login",t);case 4:a=e.sent,x(a.data._2faToken),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var t=Object(o.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={_2faToken:v,code:N},t.next=4,d.a.post("https://keypax-api.sytes.net/public/2fa",a);case 4:c=t.sent,localStorage.setItem("token",c.data.accessToken),e.setToken(c.data.accessToken),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(b.a,{show:null!==v,backdrop:"static",keyboard:!1,dialogClassName:"full_modal",children:Object(h.jsxs)("div",{className:"modal",children:[Object(h.jsx)("div",{className:"modal-header",children:Object(h.jsx)(b.a.Title,{className:"modal-title",children:"Introduce codigo 2fa"})}),Object(h.jsx)("div",{className:"input",children:Object(h.jsx)("input",{className:"input-class",type:"text",placeholder:"C\xf3digo",value:N,onChange:function(e){return y(e.target.value)},required:!0})}),Object(h.jsx)("button",{className:"button",onClick:S,children:"ENTER"})]})}),Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)("div",{className:"App-name",children:"KeyPax"}),Object(h.jsx)("img",{src:j,className:"App-logo",alt:"logo"})]}),Object(h.jsx)("div",{className:"input",children:Object(h.jsx)("input",{className:"input-class",type:"text",placeholder:"Email",value:n,onChange:function(e){return s(e.target.value)},required:!0})}),Object(h.jsx)("div",{className:"input",children:Object(h.jsx)("input",{className:"input-class",type:"password",placeholder:"Password",value:p,onChange:function(e){return f(e.target.value)},required:!0})}),Object(h.jsx)("div",{className:"input",children:Object(h.jsx)("button",{className:"button",onClick:w,children:"SUBMIT"})})]})},O=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),l=Object(i.a)(r,2),p=l[0],b=l[1],f=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={active:!0,currentWindow:!0},chrome.tabs.query(t,(function(e){e.forEach((function(e){s(e.url)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(o.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===n.length){t.next=19;break}return t.prev=1,a={headers:{accessToken:e.accessToken},params:{url:n.substring(0,n.length-1)}},t.next=5,d.a.get("https://keypax-api.sytes.net/private/infobyurl",a);case 5:c=t.sent,t.t0=c.status,t.next=401===t.t0?9:403===t.t0?11:200===t.t0?13:15;break;case 9:case 11:return e.closeSession(),t.abrupt("break",15);case 13:return b(c.data),t.abrupt("break",15);case 15:t.next=19;break;case 17:t.prev=17,t.t1=t.catch(1);case 19:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[]),Object(c.useEffect)((function(){O()}),[n]);return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)("div",{className:"App-name",children:n}),Object(h.jsx)("img",{src:j,className:"App-logo",alt:"logo"})]}),function(){var e=[];return p.forEach((function(t){e.push(Object(h.jsx)("div",{className:"data-container",children:Object(h.jsxs)("div",{className:"data",children:[Object(h.jsxs)("div",{className:"data-right",children:[t.username,":"]}),Object(h.jsxs)("div",{className:"data-left",children:[t.password,":"]})]})}))})),e}()]})};var m=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){try{var e=localStorage.getItem("token");n(e)}catch(t){n(null)}}),[]),Object(h.jsx)(h.Fragment,{children:null===a?Object(h.jsx)(f,{setToken:n}):Object(h.jsx)(O,{accessToken:a,closeSession:function(){localStorage.removeItem("token"),n(null)}})})};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root"))}},[[54,1,2]]]);